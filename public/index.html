<!DOCTYPE html>
<html lang="en" class="notranslate" translate="no">
<head>
  <meta charset="UTF-8"/>
  <meta name="google" content="notranslate" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title><%= VUE_APP_META_TITLE %></title>
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
  <meta property="dc:language" content="en" />
  <meta property="dc:date" content="2021-04-14T12:00:00" />
  <meta property="dc:creator" content="HQCasanova" />
  <meta property="dc:description" name="description" content="<%= VUE_APP_META_DESCRIPTION %>"/>
  <meta property="og:description" name="description" content="<%= VUE_APP_META_DESCRIPTION %>"/>
  <meta property="og:url" content="<%= VUE_APP_SERVER_URL %>" />
  <meta property="og:title" content="<%= VUE_APP_META_TITLE %>" />
  <meta property="og:image" content="<%= VUE_APP_SERVER_URL %>/social.png" />
  <meta property="og:image:secure_url" content="<%= VUE_APP_SERVER_URL %>/social.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="<%= BASE_URL %>apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="<%= BASE_URL %>favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="<%= BASE_URL %>favicon-16x16.png">
  <link rel="manifest" href="<%= BASE_URL %>site.webmanifest">
  <style type="text/css">

    /* TYPOGRAPHY */
    @font-face {
      font-family: 'Open Sans';
      font-style: normal;
      font-weight: 400;
      font-display: swap;
      src: url('<%= BASE_URL %>opensans-400-latin.woff2') format('woff2'),
           url('<%= BASE_URL %>opensans-400-latin.woff') format('woff');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
    @font-face {
      font-family: 'Open Sans';
      font-style: normal;
      font-weight: 300;
      font-display: swap;
      src: url('<%= BASE_URL %>opensans-300-latin.woff2') format('woff2'),
           url('<%= BASE_URL %>opensans-300-latin.woff') format('woff');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
    @font-face {
      font-family: 'Open Sans';
      font-style: normal;
      font-weight: 700;
      font-display: swap;
      src: url('<%= BASE_URL %>opensans-700-latin.woff2') format('woff2'),
           url('<%= BASE_URL %>opensans-700-latin.woff') format('woff');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }

    html {
      font-size: 100%;
    }

    body {
      font-family: 'Open Sans', sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
      color: <%= VUE_APP_SCSS_WHITE %>;
    }

    h2, h3, h4, i {
      font-family: serif;
      line-height: 1.5em;
    }

    p {
      line-height: 1.5em;
    }

    em {
      font-style: normal;
      text-transform: uppercase;
    }

    strong {
      font-weight: 700;
      text-transform: uppercase;
    }

    a {
      text-decoration: none;
      color: inherit;
      outline: none;
    }

    button {
      padding: 0;
      font-family: inherit;
      color: inherit;
      border: none;
      background: none;
      cursor: pointer;
      outline: none;
    }

    /* RESET */
    *, *::before, *::after {
      box-sizing: border-box;
      padding: 0;
      margin: 0;
      font: inherit;
    }

    /* CUSTOM DEFAULTS */
    html, body, .stage {
      height: 100%;
      width: 100%;
    }

    html, body {
      overflow: hidden;
    }

    body {
      position: relative;
      background: #000;
    }

    .grid svg, .stage svg {
      color: transparent;
      stroke: <%= VUE_APP_SCSS_BRIGHT_BLUE %>;
    }

    img {
      pointer-events: none;
      user-select: none;
      font-size: 0;
    }

    img.stage-hero {
      opacity: 0;
      transition: opacity 1s ease-in;
    }

    .hero-loaded img.stage-hero {
      opacity: 1;
    }

    svg.stage-hero {
      background-color: rgba(0,0,0,1);
    }

    /* BACKGROUND GRID */
    .grid {
      z-index: -1;
      position: fixed;
      width: 100%;
      height: 100%;
      bottom: 0;
      padding: 1px;
      transform-origin: bottom center;
      transform: perspective(39.5vh) rotateX(28.78deg) scale(2,1);
    }

    .grid:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      width: 100%;
      height: 20%;
      background: #000;
      background: linear-gradient(
        0deg, 
      rgba(0,0,0,0) 0%, 
      rgba(0,0,0,1) 75%
      );
    }

    .grid svg {
      width: 100%;
      height: 100%;
      stroke-width: 10px;
      stroke-dasharray: 3995;
      stroke-dashoffset: 3995;
      animation: griddraw 4s linear forwards;
    }

    /* Classic trace-in */
    @keyframes griddraw {
      100% {
        stroke-dashoffset: 0;
      }
    }

    /* HOME */
    /* Home - images and logo container */
    #home {
      position: relative;
    }

    #home:after {
      content: '';
      display: block;
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 7%;
      background: #000;
      background: linear-gradient(
        0deg, 
        rgba(0,0,0,1) 0%, 
        rgba(0,0,0,0) 75%
      );
    }

    .home-item {
      position: absolute;
    }

    /* Home - Foreground and background image containers */
    .bg, #fg, #fg .home-item {
      opacity: 0;
    }

    .bg, #fg {
      animation: fadein 3s linear forwards;
      animation-delay: 4s;
    }

    .bg {
      bottom: 0;
      width: 100%;
      height: 110%;
      background: <%= VUE_APP_SCSS_WHITE %>;
      background: linear-gradient(
        0deg, 
        rgba(255,255,255,0) 18.25%, 
        rgba(255,255,255,1) 38%, 
        rgba(223,238,255,1) 43.2%, 
        rgba(187,216,255,1) 47.82%, 
        rgba(104,140,238,1) 62.26%, 
        rgba(52,73,181,1) 77.5%, 
        rgba(34,57,159,.9) 82.41%,
        rgba(12, 30, 94, .8) 88.7%,
        rgba(2, 9, 63, .7) 93.2%,
        rgba(2, 9, 63, 0) 100%
      );
    }

    #fg.bottom-loaded.top-loaded .home-item {
      opacity: 1;   /* Fades foreground image in only when both its top and bottom are fully loaded */
    }

    #fg .home-item {
      top: 72%;
      width: 100%;
      transition: opacity 1s ease-in;
    }

    .fg-bottom {
      height: 28%;
    }

    .fg-top {
      height: 17.6%;
    }

    /* Home - Foreground and background images */
    .bg img, #fg img {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      width: auto;
      min-width: 100%;
      height: 100%;
    }

    .bg img {
      opacity: 0;
      top: 56.8%;
      height: 40.9%;
      transition: opacity 1s ease-in;
    }

    .fg-bottom img {
      -webkit-clip-path: polygon(
        0 60.29%, 
        100% 6.54%, 
        100% 100%, 
        0% 100%
      );
      clip-path: polygon(
        0 60.29%, 
        100% 6.54%, 
        100% 100%, 
        0% 100%
      );
    }

    /* Home - Bottom passing clouds */
    .clouds-picture {
      display: none;
      height: 60.54%;
      bottom: 0;
      left: 0;
      transform: translateX(-100%);
      animation: clouds-crossing linear infinite;
    }
    body:not(.at-home) .clouds-picture {
      animation-play-state: paused;
    }

    .clouds-fg {
      animation-duration: 160s;
    }

    .clouds-bg {
      animation-duration: 220s;
    }

    /* What it says in the tin :D */
    @keyframes clouds-crossing {
      100% {
        transform: translateX(100vw);
      }
    }

    .clouds-picture img {
      opacity: 0;
      width: auto;
      height: 100%;
      transition: opacity 1s ease-in;
    }
    
    /* Brand area - general settings */
    .branding {
      bottom: 36%;
      left: 50%;
      transform: translateX(-50%);
      height: 40%;
      width: 46.29vh;
      overflow: hidden;
    }

    #logo, .tagline {
      position: absolute;
      bottom: 50%;
    }

    #logo {
      transform: translateY(50%);
      width: auto;
      height: 18vh;
      stroke-width: .5px;
      stroke-dasharray: 700;
      stroke-dashoffset: 700;
      animation: logodraw 8s linear forwards;
      animation-delay: .35s;
    }

    /* Traces the stroke in and then out. Halfway the animation, it fills svg with brand color */
    @keyframes logodraw {
      50% {
        stroke-dashoffset: 0;
        stroke: <%= VUE_APP_SCSS_BRIGHT_BLUE %>;
        color: transparent;
      }
      100% {
        stroke: <%= VUE_APP_SCSS_BRAND_GREEN %>;
        color: <%= VUE_APP_SCSS_BRAND_GREEN %>;
      }
    }

    /* Brand area - tagline */
    .tagline {
      transform: translateY(-10vh);    
      padding-left: .6vh;
      font-size: 3.85vh;
      color: transparent;
      white-space: nowrap;
    }

    .tagline span {
      position: relative;
    }

    .tagline span:after {
      content: attr(data-char);
      position: absolute;
      left: 0;
      top: 0;
      width: 1em;
      height: 1em;
      color: <%= VUE_APP_SCSS_BLACK %>;
    }

    /* ABOUT */
    .moon {
      overflow: hidden;
      position: absolute;
      top: 12%;
      left: 50%;
      transform: translateX(-50%);
      width: 53%;
      height: auto;
      border-radius: 50%;
    }

    svg.moon {
      stroke-dasharray: 2700;
      stroke-dashoffset: 2700;
    }

    .mobile {
      opacity: 0;
      position: absolute;
      top: 18%;
      width: 100%;
      height: 25vw;
      text-align: center;
      transform: translateZ(-1.2px);
      transition: opacity 2s ease-in;
    }

    .mobile img {
      width: auto;
      height: 100%;
      -webkit-filter: brightness(90%);
      filter: brightness(90%);
    }

    .stage-ready.app-loaded .mobile-loaded.hero-loaded .mobile {
      opacity: 1;
      animation: orbit-animation 80s infinite;
      animation-timing-function: linear;
      animation-delay: .35s;
    }
    .stage-ready.app-loaded:not(.at-about) .mobile-loaded.hero-loaded .mobile {
      animation-play-state: paused;
    }

    /* Starts from behind the moon and with rotation so that, when in front, it looks straight */
    @keyframes orbit-animation {
      0% { 
          transform: translate3d(0, 0, -1.2px) rotateZ(180deg);
      }
      25% { 
          transform: translate3d(-75vw, -75vh, 0px) rotateZ(270deg);
      }
      75% { 
          transform: translate3d(75vw, 75vh, 0.8px) rotateZ(450deg);
      }
      100% { 
          transform: translate3d(0, 0, -1.2px) rotateZ(540deg);
      }
    }

    /* WORK */
    #work:before {
      opacity: 0;
      content: '';
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
      background: #000;
      animation: fadein 1s linear forwards;
      animation-delay: 4s;
    }
    @keyframes fadein {
      100% {
        opacity: 1;
      }
    }

    .mug {
      position: absolute;
      bottom: 0;
      left: 0;
      padding-right: 5%;
      width: 100%;
      height: auto;
    }

    svg.mug {
      stroke-width: .7px;
      stroke-dasharray: 1616;
      stroke-dashoffset: 1616;
    }

    /* LOADING STATE */
    #app {
      opacity: 0;
      transition: opacity 1s ease-in;
    }

    .loading-msg {
      position: fixed;
      top: 24px;
      width: 100%;
      text-align: center;
      font-family: sans-serif;
      font-size: 20px;
      color: <%= VUE_APP_SCSS_LIGHTER_GREY %>;
      transition: opacity 1s linear;
    }

    .tagline span:after {
      animation-name: random-chars;
      animation-delay: 4s;
      animation-duration: .7s;
      animation-timing-function: steps(1);
      animation-fill-mode: backwards;
      animation-iteration-count: infinite;
      animation-direction: normal;
    }

    /* Switches the character every tenth of the time. Each character has been baked into markup */
    @keyframes random-chars {
      0% {
        content: attr(data-char0);
      }
      10% {
        content: attr(data-char1);
      }
      20% {
        content: attr(data-char2);
      }
      30% {
        content: attr(data-char3);
      }
      40% {
        content: attr(data-char4);
      }
      50% {
        content: attr(data-char5);
      }
      60% {
        content: attr(data-char6);
      }
      70% {
        content: attr(data-char7);
      }
      80% {
        content: attr(data-char8);
      }
      90% {
        content: attr(data-char9);
      }
      100% {
        content: attr(data-char10);
      }
    }

    /* Traces the hero image in... */ 
    .stage-ready svg.stage-hero {
      animation: hero-draw 4s linear forwards;
    } 
    @keyframes hero-draw {
      100% {
        stroke-dashoffset: 0;
      }
    }

    /* ...while the app loads, pulsates the hero's stroke... */
    .stage-ready:not(.app-loaded) .stage-hero path {
      animation: hero-pulse 3s linear infinite alternate;
      animation-delay: 4s;
    }
    @keyframes hero-pulse {
      0% {
        stroke: <%= VUE_APP_SCSS_BRIGHT_BLUE %>;
      }
      100% {
        stroke: transparent;
      } 
    }

    /* LOADED STATE */
    .app-loaded #app {
      opacity: 1;
    }

    .app-loaded .loading-msg {
      opacity: 0;
    }

    .app-loaded .tagline span:after {
      animation-iteration-count: var(--count);
      animation-delay: 0s;
      animation-name: random-chars-end;
    }

    /* Almost a copy of the random-chars animation ending in a specific char. Forces re-animation too */
    @keyframes random-chars-end {
      0% {
        content: attr(data-char0);
      }
      10% {
        content: attr(data-char1);
      }
      20% {
        content: attr(data-char2);
      }
      30% {
        content: attr(data-char3);
      }
      40% {
        content: attr(data-char4);
      }
      50% {
        content: attr(data-char5);
      }
      60% {
        content: attr(data-char6);
      }
      70% {
        content: attr(data-char7);
      }
      80% {
        content: attr(data-char8);
      }
      90% {
        content: attr(data-char9);
      }
      100% {
        content: attr(data-char);
      }
    }

    /* Fades the tracing out, allowing the full hero image to show through halfway */
    .stage-ready.app-loaded .hero-loaded svg.stage-hero {
      animation: hero-undraw 4s linear forwards;
    }
    @keyframes hero-undraw {
      0% {
        stroke-dashoffset: 0;
      }
      100% {
        background-color: rgba(0,0,0,.1);
        stroke: transparent;
      }
    }
    .stage-ready.app-loaded .stage-hero path {
      animation: none;
    }

    /* PARALLAX */
    #parallax {
      overflow: hidden;
      position: absolute;
      perspective: 1px;
      width: 100%;
      height: 100%;
    }
    
    .stage {
      transform-style: preserve-3d;
    }

    .bg {
      transform: translateZ(-1px) scale(2);
    }

    .branding {
      transform: translateX(-50%) translateZ(.5px) scale(.5);
    }

    /* RESPONSIVE VIEWS */
    @media screen and (min-width: 768px) {
      .clouds-picture {
          display: block;
      }
    }

    @media screen and (orientation: landscape) {
      .bg img, #fg img {
        width: 100%;
        height: auto;
        margin-bottom: -1px;
      }

      .bg img {
        border-bottom: 200px solid #000;
      }

      .fg-bottom {
        height: auto;
        border-bottom: 200px solid #000;
      }

      #fg .fg-bottom img {
        position: static;
        display: block;
        transform: none;
      }

      .branding {
        left: 0;
        padding-left: 7%;
        width: 100%;
        transform: translateX(0) translateZ(.5px) scale(.5);
      }

      #logo {
        height: 20vh;
      }

      .tagline {
        transform: translateY(-11vh);
        font-size: 4.28vh;
      }

      @media screen and (max-height: 500px) {
        .branding {
          bottom: 33%;
        }
      }

      .moon {
        width: auto;
        height: 53%;
      }

      .mobile {
        height: 25%;
        top: 24.5%;
      }

      .mug {
        top: 0;
        bottom: auto;
      }

      @media screen and (min-width: 950px) {
        .moon {
          top: 9%;
        }

        .mug {
          top: auto;
          bottom: 0;
          width: 50%;
        }
      }
    }
  </style>
</head>

<body>

  <!-- First-paint graphics -->
  <div class="grid">
    <svg xmlns="http://www.w3.org/2000/svg" width="4000" height="2000" viewBox="0 0 4000 2000" preserveAspectRatio="none">
      <path d="M0 0h4000M0 500h4000M0 1000h4000M0 1500h4000M0 2000h4000M0 0v2000M500 0v2000M1000 0v2000M1500 0v2000M2000 0v2000M2500 0v2000M3000 0v2000M3500 0v2000M4000 0v2000"/>
    </svg>
  </div>

  <!-- Perspective and landscapes -->
  <div id="parallax">

    <!-- ABOUT -->
    <aside id="about" class="stage">
      <img class="stage-hero moon" src="<%= BASE_URL %>moon-1250.jpg" onload="document.getElementById('about').classList.add('hero-loaded')" width="1250" height="1278" alt="Moon"/>
      <svg class="stage-hero moon" role="img" aria-label="moon" fill="currentColor" focusable="false" width="400" height="409.3" viewBox="0 0 300 307" xmlns="http://www.w3.org/2000/svg">
        <path d="M132 2l-9 1c-7 0-33 9-41 14-2 1-2 1 0 1l3-1h1l4-1h2v1l1-2c1-2 4-2 4 1h-2l-2 2c-2 0-2 1-2 3l-1 3-5 3-1 3v2c0 2-1 2-1 1-2-2-4-1-8 2l-4 2-2 3c-1 2-3 3-3 2v-1l-1-1-1 2-2 2c-5 0-6 1-6 2 1 1 0 3-1 4l-2 2-2 1-2 4c-1 2-1 2-2 1s-1 0-4 3l-3 4v1h3c-1-2 1-3 2-2h2l2-1v1 3l4-5 4-5-1 3-1 5 1-3 4-4 5-6c3-5 14-11 19-11l6-1c0-2 5-2 6 0h2c3 2 8 1 8-2-1-2-1-2 3-2l4-1 4-2c2 0 2 0 1-1-1-2 0-5 2-4v-1h1c1 1 2 2 3 1l1 2c-1 3 0 4 1 3l3 1c1 2 3 2 4 2 6-2 3 4-3 6l-6 3c-2 2-3 8-2 8l1 3c0 3 0 3-2 2l-3-1h-1-7-1c-1-2 0-3 3-3 2 1 2 1 1-3-1-2-2-3-2-1l-1 2-2 1-7 1-6-1-6-1c0-1-7 0-10 2s-5 1-4-1c0-2-3-3-5-1v5c2 0-1 2-4 2-5 1-11 10-12 16-1 4-2 5-4 5-3 0-8 5-10 9-1 2 1 9 3 9l1 1-1 1c-1-1-3 6-3 8 2 2-1 4-3 3h-1c0 2 2 4 3 4l1 1-2 1-2 1c-4 5-8 2-8-6l-2-6c-2-1-2-6 0-7l4-4c2-5 3-8 1-7-4 3-1-5 4-8l4-4 2-3c2-2 3-5 1-5l-1 1-2 1c-1 0-10 8-10 10l-3 4-2 6-1 1-3 4c0 2-2 4-3 5-1 0-2 1-2 3 0 1 0 2 1 1l1 1-1 2-2 2v2l-1-2-1-3c2-2 3-9 1-8-2 2-3 8-2 11 1 2 1 3-1 3-2-1-4 8-4 18l-1 10c-3 3-1 35 2 41l2 4-1-6 1-7c2 0 5 5 3 6v6l-1 5c-2-2 1 6 3 8l2 5c1 3 3 5 4 5l1 2 1 2v-2l1-2 1 1 1 1 1-2c0-2 2-1 3 3 2 3 3 4 5 4l4 3 2 4 2 2c0 6 6 10 9 7 1-2 1-2 2 0v1h-1c0 2 0 2 2 1s2-1 3 1c0 2 6 7 7 7v-2c0-2 0-2 2 0l1 2c-1 1 11 4 12 3 2-1 3-4 1-4l-2-4c0-4 2-3 3 1l2 2c1-1 2 0 2 1v1h-2l1 2 4 4 4 2h3l-3-1c-2-1-2-1 0-2 2 0 2-1 1-2-1-3-1-3 1-2l1 1v2c3 2 3-1 2-6-2-6-2-9 1-8 2 0 2 0 1-1v-3c1 0 1-1-1-3l-2-2-1-1c0-2 1-2 2-2l3 1 1 1c0 1 1 2 4 1l3 1c-1 2 0 4 3 5 3 2 4 6 2 6l-2 1-2 1c-2 1-3 8-1 8v3l1 2h1l3 2c2 0 3 0 2 2l1 2 4 1h2l6 2 2 2 1-3c2-3 5-3 7 0l3-1 5-2-1-1-2-4v-2c-1 1-2-2-1-3h2l-2-2-2-4c0-2 0-2 2-1 2 2 3 2 2 0l1-1c1 0 3 2 3 4l1 4c1 1 1 1-1 1h-2l2 2c4 4 7 4 10 2l4-2 2-1-3-1c-2 0-3 0-2-1v-1h2l5-2 1-2-1-3c0-4-2-4-6-1-5 4-8 5-5 1v-4l2-1 1 2v1l2-1 2-2c0-1-10-8-12-8l-3-1c0-2 3-1 7 1 4 3 13 4 14 2l3-1 3-1h-1l-2-1c0-1 3-2 7-2 3-1 4-6 1-7-2-1-2-1-1-2l3-1 3-2c2-2 2-3 1-11-1-3-2-4-4-4l-2-1-7-3-1-9c-1-8-6-15-7-9l-3 3c-4 0-6-2-5-5 0-1 0-2-2-3h-6c0 2-2 1-2-1l-3-2-2-1h-5l-1-2-1-1 3-1c2 0 5-2 4-4-1-1 0-1 1-1 2 0 7-4 6-5s-5 1-5 3-1 0-2-3c0-4 5-7 7-5l1-1 5-1c6-1 6-1 6-7l1-5 2-1c1-1 1-1-1-1l-4-2c-2-1-2-1-4 1h-2-2l-2 1-1 1h-2l-1 1-3-1-3-3-1-4c-1-1 0-2 2-1s6-1 5-2c0-2-2-2-2 0h-2c-1-1 0-3 2-3l1-1-1-1v-1h2l1 1h5l4-2h3l1 2 1-1h2c2 1 2 0 4-3 1-3 3-5 4-5 3-1 3-4 0-4l-3-3c1-3 4-4 4-2l1 1-1-3-1-3v-2l-1-2c1-2 4-1 4 0l2 2v1c-2 0-3 3-2 4l3 1c3-1 3-1 3 1l2 3c2 2 2 3 1 5v3h5l3 2h5c2 1 2 1 1-1h1c1 1 2 0 4-1 2-2 2-2 5-1 2 1 3 1 3-1 0-1 2-2 2 0 0 1 1 1 1-1h1l2 1 2 1-1 1c-2 0-2 2-1 10 0 4 3 8 3 4l3-1 4-1c1-5 9 0 9 5 0 3 0 3 1 1l1-4 1 2c-1 2-1 3 1 3l1 3 3 3 1 1c-2 1 0 5 1 5l1-1c-1-2 1-1 3 1h1c-1-3 1-3 2 0v3l-1 2 1 2v3l-1 5 1-2c0-2 0-2 4 1 3 2 3 2 2 0-2-2-2-2 0-4s5-1 5 1l-1 2-1 2c0 2 0 2 1 1s3 3 3 5-2 1-2-1c-1-3-3-2-4 1 0 2-3 1-3-2l-2-2c-1-1-1-1-1 1l-1 1-1 1 1 1 1 1-3 1-2 1c0 2-2 2-2 1v2l2 6c2 1 3 7 1 7-1 0-3-3-2-4 1 0 1-1-1-1-2-1-2 4 1 6 1 1 2 2 1 3h-1c-1-1-1 0-1 2 1 3 0 3-2 2-1-1-2-1-2 1l-3 2-1 4c0 2 0 3 1 2l1 1-1 1c-2 0-5 6-4 7s1 0 2-2c2-5 4-6 4-3 0 1 0 2 2 1l1-2 1-1 1-1h-2c-2 2-3 1-3-1l1-5v2 1l3-2c1-2 2-2 3-1l1 2v-2c0-2 0-2 1-1 2 1 5 0 6-1l1-1c0 1 2 0 3-2 2-2 4-2 4 0 0 1-4 7-4 5l-1 1v4c2 3-3 8-5 5l-3-1c-1 1-1 1 0 0v-2h-2v6l2 1c1 2 2 7 0 7v-3c0-4-2-3-4 0l-1 1-2 1-2 1 1-1 1-1-1-1h-2c-1-1-2-1-3 1v1c1-1 1 0 2 1l-1 2v2l2 3h-1l-1-1c0 3 2 5 3 3l2-1-2 3-1 2 2-1 2-1 1-2c0-2 0-2 2-1 1 2 1 2 1 0l-1-2 1-1 1 2 1 2 1-2v-1l2-2c2-4 1 1 0 5l-2 2c0-1-4 0-4 2l-1 1c-1 0-2 5 0 5 0 1 1 0 0 0l1-2c2-2 0 3-2 5-2 1-2 2-2 3l-1 2c-1 0-2 0-1-1l-1-1c-3 1-1 3 3 3 5 0 7-1 5-4-1-2-1-2 1-1s2 1 1 3v2l2-4c1-4 6-3 6 2 0 1 0 2-1 1l-1-1-2-1h-1l1 2v6c-2-1-2 3 0 4l1 1 2 3v2c-1 1 0 4 1 3l1 1-2 1v7c0 2 2 1 6-2 3-2 3-3 2-4l-1-2 4-1h1c1 0 2-1 2-3l5-6 4-8 3-7c3-3 5-8 5-10l1-2 5-16 2-11 1-7c-1-1 1-6 2-6l-1-21c-2-4-2-16 0-17v-3l-1-6c0-2-1-3-2-2-2 1-4-2-4-6l-1-2v-1c2-1 1-9-1-13a61 61 0 01-6-13l-1-2-4-7-3-5-2-5h-1v2l-1-2-2-5-4-8-5-5-1-2v-1l-3-2c0-2-2-3-3-3l-2-3-2-2 1 1c1 2-8-4-13-9-7-6-19-14-20-13l-1-1-1-2-1-2h-5c1-1-6-4-8-4l-3-2-6-2c-3-1-4-1-3-2 2-1 0-2-4-1l-5-1-5-1c-2 0-5-1-4-2l-2-1h-3l-10-1a547 547 0 01-23 0zm-23 10v2h-5l1-1 2-1h2zm69 16c0 2 0 3 2 4h2v-1l1 1c0 2 2 3 5 4 4 0 6 1 5 2h-7c-2 2-3 2-3 0-1-1-1-1-1 1s0 2-3 2l-4-1-1-1 2-1c1 1 1 1 0 0-2-2-2-7-1-7v-2l1-1 2-1v1zm-65-1c1 2-4 6-6 5-1-2-1-3 2-5h4zm60 0l1 1c0 2-2 2-4 1s-2-2-1-2h4zm-9 6c2 2 0 4-2 3-3 0-3 0-3-3-1-2 3-2 5 0zm33 3c-1 1-1 1 1 2l3 2c2 3-1 2-4-1-2-2-2-4 0-4v1zm16 2c0 2 4 2 5 1h1v1 3l-7-1c-4 0-5 0-4-1h3v-3l1-2v2zM96 59l1 1c3-1 3 2 1 4-1 1-2 1-2-1l-1-4v-1l1 1zm27 3c0 2-1 3-2 0v-3l2 3zm-14 2l1 2 2 2h1c0-2 4-1 6 2 2 4 3 4 4 1 0-2 0-2 1-1h2c1-1 1-1 1 2v4c2 0 2-1 2-3h2v2 3c2 0 2 2 2 3-1 3 0 4 2 5 1 1 0 1-1 1-3-1-4 1-1 1 2 1 3 3 1 3l-5 1 2 2v3c-1 1-2 2-1 5 0 3 0 4-1 3l-2-1-1-1v1l-3-1h-2v2c-1 1-1 1 1 1l2 1h1l1 1-3 1-4 1-3 1c-1-1-1-5 1-5l1-4 1-3v-3l-2-2v-1l-2-1-2 1c-1 1-11 2-12 1l-2-1c-2 0-2 0-1-1l2-2c-1-2 2-5 6-5l4-1c3-2 5-1 5 2l-1 3 2-2c1-2 2-3 4-3 2 1 4-3 4-7-1-2-2-4-2-2l-9 1c-2 1-5 1-5 3h-2v-2l1-3 1-3 1-1-4-1c-3 0-3 0-2-1l2-3c0-2 0-2 2-2l2 1zm59 12c2 3-3 4-6 2v-2h6zm57 9c2 2 3 1 1-1-1-1-1-1 0 0h3l3 2c0 2-2 3-2 1-1-3-3 0-3 3 1 3 0 4-1 5h-2l1-1c1-1 1-2-1-5-3-6-3-8 1-4zm-68 2c0 1-2 4-4 4-3 0-3-2-1-3 1-2 4-2 5-1zm88 12c2 2 1 4-2 2-2-1-3-6-1-5l3 3zm6 1c2 1 2 1 2-2 0-2 0-2 1 0l2 2 1 1h-2l-2 1 2 2 2 3 2 3 2 2c1 1 1 1 0 0-2 0 0 4 2 7 1 2 1 2-1 1-3-2-4-4-3-5l-1-4-3-4-1-1-2-2-2-2-1-1-1-1v-2c0-3 0-3 1-1l2 3zM93 97l-3 4v-4h3zm137 1l2-1c1-1 1-1 1 1 0 3-5 2-6-1h1c0 1 1 2 2 1zm-208 9c0 2-2 1-2-1 1-1 0-2-1-2l-1-3c0-1 1-1 3 1 1 2 2 4 1 5zm94 5l-3 3c-3 3-4 4-1 4l2 5 3 4h2l1 1-2 1c-2-1-1 1 1 3 2 1 0 4-3 3-1 0-2 0-2 2l-2 2-1 2c1 2 0 4-2 5h-3v5l1 1-2 2-2 1 5 1c3 0 4 1 4 2h2c1-2 7-2 8 0l1 2c3-1 6 2 5 4h1c2-1 5-1 5 1 0 3 0 4 2 4l3 3c0 2 2 4 4 4s9 6 7 6v3l-1 3-1-1c1-1-3-5-4-5l-2-1c-2-2-5-3-5-1h-3-2c-1-1-2-2-3-1l-1-1-2-4c-2-1-3-3-2-3 1-1-2-6-5-6l-2-1-6-1 2 3 2 2-1 1h-5l-1-1-3-1c-2-2-3-1-1 2 1 2 0 3-1 1l-3-1c-1 0-2 0-2-2s0-2-5 0c-4 2-10 2-10 0l2-2c2 0 3-1 3-2l1-1 2-1 1-3-3-1h-3-2c-2 1-7-1-7-3l-1-1c-2 0-2-1-1-3 2-2-1-3-3-2-1 1-1 1-1-1l1-2v-2c-2-1-2-1 0-2l2-1h1c2 0 2-1 2-3 0-4 3-6 7-4 1 1 3 0 4-1l3-2v-2c0-2 0-2 1 0 2 2 4-1 4-6 0-2 0-2 1-1s2 0 3-2l1-2-1 3c0 4 1 4 4 0 2-3 2-3 5 2l2 1c1-1 1-2-1-3s-2-3 2-7c2-3 4-4 4-2zm-48 18l2 2c-1 1-6-1-6-3 0-1 1-1 4 1zm0 7l-1 2-1-1-1-2 1-2 2 3zm-32 2c-1 4 4 9 6 6 1-1 0-1-1-1-3 1-4-4-1-6 2-1 3-1 3 1-1 0-1 1 0 0 3-1 3 5 0 8l-2 2 7 4h3c1 0 2 0 1 1-2 1-1 3 1 3h3c3-2 8 2 6 5-1 2-1 2-2 0 0-2-1-2-3-2l-8-4-2-1-2-2-1-1-4 4-2 1-2 2c1 0 0 2-2 3l-3 1v-3l-1-1 1-1 1-1-1-1-1-2v-9c1-1 1-2-1-3l-2-2 3-1h3l2-2 1 2zm-25 15c-1 3-3 2-3-1s2-6 3-4v5zm259-3l1 4-1 2c-1-1-1-1-1 1l1 2-2-2-1-3 1-3v-2l2 1zm-18 13c1 1 1 1 1-2l-1-3 2 3 3 8-2 1-1-2c2-3 0-2-2 2l-1 3-1-2v-5c1-1 1-2-1-3h-2v-2c0-2 3-1 5 2zm-241 0c2 5 1 6-1 6s-3 0-3 3l-1 3v-3c-1-5-1-8 1-10 2-3 3-2 4 1zm57-2l3 2c0 2 5 6 6 5h1c1 1 2 2 3 1l-1 2-3 2 2 6v7c-1 1-1 1-1-1s-3-4-5-2h-4c-3-1-5-1-6 1-2 2-3 0-1-3 2-2 2-3 0-3-2 1-2 1 0-2 2-4 1-6-1-6l-2-2h1l2-2h2c1 1 1 0 1-2-1-4-1-5 3-3zm36 14l-2 2-2-2 2-1 2 1zm19 1l-1 2-1-1-2-1-1-1c2-2 5-1 5 1zm-104 2l-1 3c-2-1-2-4-1-5 2-1 2-1 2 2zm264 1v8c-1 4-3 5-3 2l1-3 1-1v-2c2 0 1-2 0-1-1 0-2-1-2-3 1-4 1-4 3 0zm-172 8l2 2 1 3 2 5c1 3 1 3-1 3l-2-1c0-1-1-2-2-1-3 0-6-3-4-5l2-1c2 0 2-1 1-2v-5l1 2zm159 4l-1 1v4c0 2 0 2-1 1h-1l-2 1c-2 0-1-1 1-3l2-4 1-1 1 1zm4 3l1 1h-3c-2 1-4 0-2-2 0-2 3-1 4 1zm-141 4l3 5c1 2 2 3 1 4v1l-1 1v1c2 1 3 7 2 9-2 2-3 0-3-4 0-2-1-3-2-3-2 0-3-1-4-3l-1-2c1 1 3-2 3-4-1-2 0-6 1-6l1 1zm16 13l-3 1c-4 0-4 0-3-2 1-3 6-2 6 0zm125 1l-1 3-1-3c0-3 0-4 1-3l1 3zm-140 3l-1 2c-2 0-3 4-1 4l1 3-1 4-2 1-1-1-2-2-2-3 1-3c0-1 1-2 2-1l2-1c-1-3 2-5 4-3zm122 8c-2 1-2 1-1-1v-6c0-2 0-2 1 1v6zm-141-3c0 2-1 3-2 1h-2v-1c0-2 3-3 4 0zm145 2c-1 5-4 8-4 3h2c1 1 1 1 1-2l1-4v3zm-113 7c-1 1 0 1 1 1v1h-3c-3-1-3-3 0-3 1 0 2 0 1 1zm-54 5l-1 2c0 2 0 2-2 1s-2-1 0-4c2-2 4-2 3 1zm172 8c-2 3-3 3-2 0v-8l1 3 1 5zm-3 8l1-2v3l-2 2-1 1-2 5v-1l1-4c0-4 1-7 2-4h1z"/>
      </svg>
      <picture class="mobile">
        <source media="(min-width: 768px)" srcset="<%= BASE_URL %>mobile-700.webp" type="image/webp"/>
        <source media="(min-width: 768px)" srcset="<%= BASE_URL %>mobile-700.png" type="image/png"/> 
        <source media="(max-width: 767px)" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
        <img src="<%= BASE_URL %>mobile-700.png" onload="document.getElementById('about').classList.add('mobile-loaded')" width="530" height="1075" alt="Mobile"/>
      </picture>
    </aside>

    <!-- HOME -->
    <header id="home" class="stage">

      <!-- Background landscape with faux gradient sky -->
      <div class="home-item bg">
        <img src="<%= BASE_URL %>background-3600.jpg" onload="this.style.opacity=1" alt="Orotava Valley"/>
      </div>

      <!-- Desktop-only passing clouds behind logo -->
      <picture class="home-item clouds-picture clouds-bg">
        <source media="(min-width: 768px)" srcset="<%= BASE_URL %>clouds5.webp" type="image/webp"/>
        <source media="(min-width: 768px)" srcset="<%= BASE_URL %>clouds5.png" type="image/png"/> 
        <source media="(max-width: 767px)" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
        <img src="<%= BASE_URL %>clouds5.png" onload="this.style.opacity=1" width="2049" height="632" alt="Clouds"/>
      </picture>

      <!-- Identity -->
      <h1 class="home-item branding">
        <svg id="logo" role="img" aria-label="HQCasanova" focusable="false" width="754.5" height="147.8" viewBox="0 0 199.6 39.1" xmlns="http://www.w3.org/2000/svg">
          <path fill="currentColor" d="M65 39c-.1-.1-.7-.3-1.1-.3a9.1 9.1 0 01-3.6-1.1l-2-1.1c-.7-.3-1.6-1-2.1-1.4-1.1-1-1-1-3.5-.7-2 .2-2 .2-5.3-.4-2-.4-3.4-1-5.5-2.5l-1.2-.8a18.6 18.6 0 01-5.8-8.3l-.1-.5-.3-.9c-.5-1-.6-6-.2-7.6A899.3 899.3 0 0036 8.9l.4-.8c0-.2 1-1.5 1.8-2.6 1.1-1.4 4-3.5 5.8-4.2a19.1 19.1 0 0111-.8c.5 0 3.5 1.3 3.8 1.6l1 .6a15.7 15.7 0 015.8 6 13 13 0 011.6 4c.5 1.7.5 2 .5 5.1 0 3.7 0 3.6-1.3 6.9-1 2.3-1.3 2.8-3 4.6-1.2 1.3-2 2-2.7 2.4l-1.2.7-.5.3c-.6.2-.5.6.2 1 4.8 3.4 6 3.9 10.8 3.8a23 23 0 007.3-.9c.6 0 2.8-1 3.5-1.6.8-.7.9-1 .1-1.2-2.5-.4-5-1.6-7-3.6a18.3 18.3 0 01-4.7-7.4l-.5-2c-.4-2.2-.4-6 0-7.3l2-4.9A26 26 0 0173.9 5 19 19 0 0182.3.7c.8-.3 1.1-.3 4.1-.3 2.8 0 3.5 0 4.7.3A6 6 0 0093 1c.1 0 .7 0 1.2.2l2.2.4c2.1.3 2 .3 2 1.2a28 28 0 01-.8 3.8l-.3.1V6c0-.9 0-1.1-1-2.4a8 8 0 00-3.3-1.8l-1.2-.2a22.4 22.4 0 00-9.6 0l-1 .4a14.9 14.9 0 00-5.5 4c0 .1 0 .2-.2.3a11.2 11.2 0 00-2.2 4l-.3.8-.5 1.8c-.4 1.6-.5 7.3 0 8.2.2.5.2.5.2.2a27.4 27.4 0 010-7.6c.5-2.7 2.4-5.7 5-7.5A11 11 0 0181 4.6c1.2-.4 1.5-.5 3.7-.5h2.4l1.5.7c1 .5 1.8 1 2.7 2a7.8 7.8 0 012.1 2.8c.4.7.3 2.3 0 3-.3.7-1.1 1.3-1.7 1.3-.4 0-1.4-1-1.4-1.4l.6-1c.8-1 .8-1.4.5-2.4-.5-1.2-.9-1.7-2.3-2.8-1.6-1.2-1.8-1.3-3.5-1.5a9.7 9.7 0 00-5.2.5c-1.3.5-3.1 1.6-3.1 1.8l-.2.2c-.4 0-1.4 1-2.4 2.6-1.4 2.1-1.7 3.4-1.8 7.4 0 2.1 0 3 .2 4l.3 1.2.1-1.5c.2-2 1-4.5 1.4-4.5l.3-.5c.6-1.1 3.3-3 5.3-3.7 1-.3 3.3-.2 4.9.3.9.2 2.6 1.2 3 1.6 1 1.1 1.3 1.5 1.7 2.5 0 .3.2.7.4.9l.2 1.6c0 2-1.2 3.4-2.9 3.2-1.2-.2-1.3-1-.3-2.6.9-1.3.9-1.5-.2-1.5-.5 0-.9-.1-1.1-.4-.5-.4-.5-.6 0-1.3.7-1 .6-1.6-.3-2.5-.7-.7-1-.9-1.9-1-1.8-.4-5 .2-6 1.2l-1 .8c-1 .6-2.6 2.9-2.4 3.6 0 .2.3-.1.8-1l1-1.3c.2 0 .4-.2.4-.3l.1-.3 1-.5c1.3-.9 2.3-1.1 3.4-.9 1.6.4 3 2 3 3.5 0 .8-.2 1.2-1 2-1 .9-2.5.7-3-.5-.3-.6-.3-.9.2-.9.2 0 .5.3.7.6.3.5.5.6.9.6.7 0 1.1-.2 1.4-.8.2-.7.3-1.5.1-1.9-.1-.2-.2 0-.6.7-.6 1.2-.8 1.2-1.8.2l-1-1.2c0-.2-.2-.2-.3-.2 0 0 0 .3.2.4.4.4.2.6-.7 1-.8.3-.9.3-1.6 0-.7-.2-.7-.2-1.2 0-1.3.8-2.5 3.4-2.3 5 0 .5.2 1 .3 1l.1-.2c0-.3 1.2-1 1.4-.8.2.1 0 2.2-.2 2.6-.2.4.2 1.8.5 1.8.2 0 .3-.2.4-.5.2-.8.7-1 1-.6.3.3.4.5.3 1.5-.2 1.4 0 1.6 1.5 2.7l1 .8.1-.6c0-.3.2-.6.4-.6.3-.3 1-.2 1.3 0 .4.2.4.1.3-.1a5.3 5.3 0 011-6c.5-.7.7-.8 1.3-.8.7 0 .9.1 1 .5.3.4.3.4 0 .8-.2.5-.8.6-1 .3-.1-.3-.7-.2-1.2.1-1.2.9-1.6 3.3-.8 5 1 2.2 2.1 3 4.6 3.3 1.8.2 2.9 0 5.4-.4 3-.6 6-3 6.3-5 0-.5.1-.8.3-.8.1 0 .2.6.3 2l.2 2h.6c.6-.2.8-.6 1.6-2.4a133.6 133.6 0 004.4-11.5l.5-1c.2 0 1 1.4 2 4a154 154 0 005.4 10.7l.6.1c.4 0 .4 0 .4-.8 0-.5 0-1 .2-1.4l.2-.6v.7c0 1 .5 1.5 1.6 1.9a4 4 0 003.1 0c1.4-.8 1.8-1.4 1.8-2.6 0-1.3-.7-2.2-3.2-4.3-2.2-1.8-2.5-2.1-3-3-.2-.5-.4-1.1-.4-1.5 0-1.3 1.3-2.9 2.8-3.2.7-.2 2.3-.2 3.8 0l.8.2v1.9c-.2.1-.3 0-.3-.4 0-1.2-2.3-2-4-1.3-1 .4-1.6 1.2-1.7 2.2-.2 1.3.5 2.2 4 5.1 1.8 1.5 2.5 2.6 2.5 3.8 0 1-.4 1.7-1 2.4-1.3 1.1-2.8 1.5-5.4 1.1h-1.8a7 7 0 01-1.8 0c-1.3 0-1.5 0-1.4-.3 0-.3-.2-1-1.8-4.4l-.6-1.1h-5.4l-.3.5a21.1 21.1 0 00-1.6 5c.2.2 0 .3-1.3.4-.8 0-1.6.2-1.8.3-.2.2-5 1.9-6.6 2.3-2.1.6-6.6.9-9.2.6l-1.6-.2-.8.8-1.2 1-.4.2-2 1-1 .3-1.1.4a11166.6 11166.6 0 01-3.7.9 23 23 0 01-7 .3zm-10.9-5.4L56 33c1.5-.4 2.3-.8 2.3-1 0 0 0-.2.2-.2.5 0 1.4-.6 2-1.4a6.3 6.3 0 00.8-6.3c-.8-1.5-2.1-2.5-3.3-2.5-.7 0-.8 0-1 .5-.4.6-1.2.7-1.5.2-.4-.5-.2-1 .4-1.4.7-.5 2.3-.3 3.3.3 1.5.8 2 1.5 2.4 2.7.4 1.3.6 3 .4 4l-.2.6.6-.6c.4-.3.8-.8 1-1.2 0-.3.3-.7.4-.8.4-.5 1.1-3 1.1-4 0-.7 0-1-.5-1.6-.3-.3-.5-.8-.5-1 0-.5.4-.7.9-.5.2.2.3.2.2-.7-.1-.7-.2-1-.9-1.6-.4-.4-.7-.8-.7-1 0-.2.4-.4.9-.4.2 0 .3 0 .2-.4a9 9 0 01-.2-.8c-.2-1-2.5-2.4-4-2.4-.8 0-.9 0-1.3.7-.3.5-.6.7-1.3 1-1 .2-1.2.1-1.2-.4 0-.3-.1-.4-.2-.4s-.2.3-.1.9a6 6 0 01-.1 1.5c-.2.7-.7.8-1.7.2-.8-.5-1-.5-1-.1 0 .3 1.3 1.5 1.8 1.7.2 0 .6 0 1-.2.6-.3.6-.4.5-1.2 0-.7 0-.8.4-1 .5-.1.7 0 .7 1 0 .7 0 .8-.6 1.3-1.3 1-3 .6-3.9-.9-1-2 0-4.7 2.3-5.3l2.3-.2a5 5 0 012.7.4l1.4.6c.8.2-.8-1-1.7-1.4-1.2-.4-4.1-.6-5-.4l-2.3 1c-1.7.8-2.6 1.7-3 3-.5 1.2-.2 2.5.6 2.5.6 0 1.3.7 1.3 1.2s-.6 1.2-1 1.2c-.2 0-.3.2-.3.4 0 .3.1.5.8.7.4.2 1 .5 1.3.5.4.1 1 .8 1 1.3 0 .4-1 1.2-1.6 1.4-.9.2-3-.7-3-1.3l-.3-.5c-.4-.3-.7-1-1-2.4-.4-2.4 0-4.1 1.5-6.1.4-.6 1-1.1 1.2-1.3l1.4-1c1.1-1 1.7-1.1 4.8-1.3 1-.1 2.9.2 3.3.5l.8.2 1.2.6 1 .6-.5-1.2-1.2-1.9c-1.5-2.3-2.3-3-4.4-3.7-1.6-.5-2-.6-4-.7-2.6 0-4.4.2-5.3.9l-1.2.6c-1 .5-2.7 2.2-3.3 3.3-1 2-1.3 3.5-.9 4.7l.3 1c0 .4.9 1 1.4 1 .4 0 1 .2 1.3.5.2.4 0 1.6-.2 1.9-1.2 1-2.8.1-3.8-2-.4-.8-.4-1-.3-2.2l.2-2.1a8 8 0 011.6-3.7 12.8 12.8 0 016.8-4.3 23.4 23.4 0 017.4.5 11 11 0 00-3-1.7l-3-.2c-2.7-.1-3.8 0-5.4.6-1.4.5-3 1.3-3.5 1.7l-.8.7a12.2 12.2 0 00-2.9 4.1 7 7 0 00-.9 2.7c0 .2 0 .6-.2.8-.1.4-.3 1.8-.3 3a27.1 27.1 0 00.8 5.5 16.2 16.2 0 003.5 7c0 .3 1.7 2.2 2.8 3.1l1 .9c1.4 1.1 2.7 1.8 4.2 2.4.9.2 4.1.2 5-.1zm30.4-1.3l-.7-.7-.7-.6v.5c0 .4 0 .6.4.7l1 .1zm-22.7-3.2V29l-.2.2v.2s.2 0 .2-.2zm48-4.6c0-.2-2.8-5.9-2.9-5.8l-2.1 5.7c0 .2.4.3 2.4.3 1.4 0 2.5 0 2.5-.2zM0 34.3c-.3-.3 0-.4 1.3-.6 1.3-.2 1.7-.4 2-1C3.4 32 3.3 3.3 3 2c-.2-.8-.4-.9-1.7-1C.4 1 .2 1 .2.9S.7.5 3.7.5A686.8 686.8 0 009 .5c0 .2-.2.3-.8.3-1.2 0-1.5.4-1.6 2.1l-.1 1.4.5-.5c1-1 1.8-1 2.5-.4.8.8.4 2.3-.6 2.3-1.3 0-1.9 2-1.2 3.8.7 2 1.3 3 2.5 4 .7.5 1.5 1 1.8 1 .3 0 .8.3 1 .5.5.2 1 .3 2.5.4h1.8l-1.7-.8c-2.5-1.2-3.5-2.4-3.5-4.4 0-.8.2-1.3.7-2 .5-.6 1.5-.8 2-.3.4.4.2.6-.5.8-.8.1-1 .3-1.4 1-.4.9-.1 2.3.6 3l.5.5-.2-.7c-.6-1.4-.4-2.4.6-2.9.9-.4 1.3-.3 1.7.5.3.3.3.4 0 1.3l-.4.9.4.7.5.7s.2.3.2.7c.1.4.2.5.2.3.1-.2.2-.3.6-.2.6.1.7-.1 0-.5-.4-.3-.5-.8-.1-1.3.5-.7 1.6-.2 2.7 1.2l.8 1 1.9.2c1.3.2 2 .2 2.2 0l1-.2c1.2 0 1.2 0 1.1-3.3l-.1-6.1c0-3.2-.2-4.2-.5-4.4a2 2 0 00-.8-.2C25 1 24.5.8 24.5.5c0-.2.3-.3 2.5-.1h4.8c1.2-.2 1.5-.2 1.4 0 0 .2-.4.3-.9.3-.7 0-.8.2-1.2.7l-.5.6.1 6a678.5 678.5 0 01.2 18c0 8-.1 7.4 1.8 7.4.7 0 1 0 1.1.2.2.5-.3.7-1.7.5-1.2-.2-3.8-.2-6.6 0h-1.1c0-.3 1.1-.7 1.9-.7l1-.2c.2-.3.2-3.2 0-3.2-.1 0-.2.1-.2.3s-.6.8-1.4 1.6c-1 1-1.4 1.3-2 1.4-.3 0-.8.2-1 .4-.7.5-2.4 0-3.3-.9-1.3-1.4-.3-3.2 1.3-2.4 1.6.7 3 .4 2.4-.7-.3-.4-.4-1.2 0-1.6.1-.3.3-.3.9-.2l.8.2c.1.3.8.2 1.2-.1l.8-1.1c.4-.8.5-1 .4-2.2a5 5 0 00-.7-2.6c-1-2.1-1.6-2.8-3-3.7-1.6-1.1-3.2-1.7-4.3-1.4-.5 0-.5 0 .5.3.6.1 1.1.3 1.2.5l.5.2c.6 0 2.7 2 3.3 3 .3.7.2 2.6-.2 3.4-.6 1.2-1.9 2.2-3 2.2s-2-.5-2.4-1.3c-.5-1-.5-1.5.1-2.3.6-.8.7-.8 1-.5.3.3.3.7-.2 1.2s-.6 1.2 0 1.7c.3.4.5.5 1.3.5.7 0 1.1 0 1.4-.3.6-.4.4-.6-.7-.6-.3 0-.8 0-1-.2-.3-.2-.3-.3 0-1 0-.3.4-1 .7-1.4l.5-.9s-.2 0-.4.3c-.3.5-.5.4-1.2-.4-.5-.6-.6-.8-.6-1.6s0-1-.5-1.4c-.4-.4-.8-.6-1.6-.7a8.5 8.5 0 00-4.3.2c-.8.3-1.1.6-.7.6.3 0 1.4 1 1.4 1.2 0 .3-.5.5-2 .6-1.2.1-1.4.2-2 .7-.8.6-.7 1 .1.9.7-.1 1.1.1 1.1.6 0 .4-.5.7-1.7 1-1.3.3-1.8.8-2 2.3l-.6 1.6c-.4.8-.4 1.1-.4 3.1 0 2.8 0 3 1.5 3.2 1 0 1.4.3.9.4l-3.5.1a70.8 70.8 0 00-5.6 0zM7.4 23L8 22l.4-.6c0-.4 2.5-2.8 3.7-3.7l1.3-.8H6.8v1.5a81.4 81.4 0 00.2 5.7l.4-1.2zm20-4v-2.2H25c-2.5 0-2.6 0-1.5.7a16.2 16.2 0 013.9 3.8V19zm-14.7-3.7A16 16 0 019 13.2a9.6 9.6 0 01-1.5-2l-.7-1.3v5.6h3.1c1.8 0 3-.1 3-.2zM124.3 31l.6-.2c.4-.2 1.9-3.4 3.3-7.2a272.4 272.4 0 013-7.6l2 4a154 154 0 005.3 10.7l.6.1c.2 0 .3 0 .2.2h-1.6c-1.3 0-1.5 0-1.4-.3 0-.3-.2-1-1.8-4.4l-.6-1.1h-5.4l-.3.5a21.1 21.1 0 00-1.6 5c.2.3.2.3-.3.3h-2zm9.3-6.5c0-.2-2.7-5.9-2.8-5.8l-2.1 5.7c0 .2.4.3 2.5.3 1.3 0 2.4 0 2.4-.2zm19.3 6.1l-4.3-5a185.4 185.4 0 01-6.5-7.2c-.1 0-.2 2.9-.1 8.7 0 3.5 0 3.5.8 3.6h.3c-.1.2-2.8.2-2.8 0h.3c.2 0 .4-.2.4-.4s.2-3.3.2-6.8l.1-6.4-.4-.5c-.3-.3-.6-.5-1-.5l-.4-.1c0-.1.7-.2 1.5-.2h1.3l.7.8a335.4 335.4 0 009.2 10.7l.7.9v-.9l-.3-5.8c0-2.8-.1-5-.2-5.1-.1-.2-.3-.3-.5-.3l-.4-.1c-.1-.1.4-.2 1.3-.2s1.5 0 1.4.2l-.4.1c-.2 0-.4.2-.4.3a223.9 223.9 0 000 14.7l-.5-.5zm7.5.4c-1.9-.4-3.7-1.8-4.7-3.5a8.9 8.9 0 01-1.2-5c0-1.3.1-1.7.6-2.6a6.8 6.8 0 017-4c1.3 0 1.7 0 2.8.6.9.5 1.5 1 2 1.5a9.3 9.3 0 012.1 7 7.3 7.3 0 01-8.6 6zm4.4-1c1-.5 2.2-1.7 2.6-2.6.8-1.7.6-4.6-.6-7a9.5 9.5 0 00-3.4-3.6 5.9 5.9 0 00-5 0c-2 1-3.2 4.5-2.5 7.2.7 2.8 2.9 5.6 4.9 6.2 1.2.4 3 .3 4-.2zm12 .8l-1-2.4-2.3-5.5a39 39 0 00-3-6.5c-.1-.1-.5-.3-.8-.3h-.5c0-.1 1-.2 2.1-.2 1.8 0 2 0 1.7.2-.3.1-.4.4-.4.5 0 .3 1.3 3.7 2 5.3.6 1.2 2.3 5.7 2.5 6.2.1.7.3.5.7-.6a35.6 35.6 0 011.7-4.2 3523.5 3523.5 0 012.5-6.9c0-.1-.2-.3-.4-.3l-.3-.1c0-.1.1-.2.3-.1h1.5c.8 0 1 .1.6.3-.3 0-.6.4-.8 1a190.4 190.4 0 00-5.6 13.6l-.3.4-.3-.4zm7.8.2l.6-.2c.4-.2 1.9-3.4 3.2-7.2a272 272 0 013-7.6c.2 0 .9 1.4 2 4a154 154 0 005.3 10.7l.7.1c.2 0 .3 0 .2.2H198c-1.3 0-1.5 0-1.4-.3 0-.3-.2-1-1.8-4.4l-.6-1.1h-5.4l-.4.5a21.1 21.1 0 00-1.5 5c.2.3.1.3-.3.3h-2zm9.3-6.5c0-.2-2.7-5.9-2.8-5.8-.2.2-2.2 5.5-2.2 5.7 0 .2.5.3 2.5.3 1.4 0 2.5 0 2.5-.2z"/>
        </svg>
        <em class="tagline">
          <span>W</span><span>e</span><span>b</span><span>&nbsp;</span><span>A</span><span>p</span><span>p</span><span>l</span><span>i</span><span>c</span><span>a</span><span>t</span><span>i</span><span>o</span><span>n</span><span>s</span><span>&nbsp;</span><span>&</span><span>&nbsp;</span><span>U</span><span>X</span>
        </em>
      </h1>

      <!-- Desktop-only passing clouds in front of logo -->
      <picture class="home-item clouds-picture clouds-fg">
        <source media="(min-width: 768px)" srcset="<%= BASE_URL %>clouds4.webp" type="image/webp"/>
        <source media="(min-width: 768px)" srcset="<%= BASE_URL %>clouds4.png" type="image/png"/> 
        <source media="(max-width: 767px)" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
        <img src="<%= BASE_URL %>clouds4.png" onload="this.style.opacity=1" width="2049" height="701" alt="Clouds"/>
      </picture>

      <!-- Foreground landscape with clip-based transparency -->
      <div id="fg">
        <div class="home-item fg-bottom">
          <img src="<%= BASE_URL %>foreground-2800.jpg" onload="document.getElementById('fg').classList.add('bottom-loaded')" width="2800" height="303" alt="Mountain ridge"/>
        </div>
        <picture class="home-item fg-top">
          <source srcset="<%= BASE_URL %>foreground-2800-top.webp" type="image/webp"/>
          <source srcset="<%= BASE_URL %>foreground-2800-top.png" type="image/png"/> 
          <img src="<%= BASE_URL %>foreground-2800-top.png" onload="document.getElementById('fg').classList.add('top-loaded')" width="2800" height="482" alt="Mountain ridge top"/>
        </picture>
      </div>
    </header>

    <!-- WORK -->
    <aside id="work" class="stage">
      <img class="stage-hero mug" src="<%= BASE_URL %>mug-2800.jpg" onload="document.getElementById('work').classList.add('hero-loaded')" width="120" height="740" alt="mug"/>
      <svg class="stage-hero mug" role="img" aria-label="mug" fill="currentColor" focusable="false" width="400" height="246.7" viewBox="0 0 300 185" xmlns="http://www.w3.org/2000/svg">
        <path transform="scale(-1 1) translate(-300 0)" d="M121 16a289 289 0 00-72 15C28 39 13 50 7 63c-5 8-6 14-4 21 1 6 5 14 7 14l6 5 10 7a166 166 0 0065 24l6 1c18 3 65 3 87 0l17-2 10-1c3-1 4 0 6 1h1l2-1 5-1h2l2 1v3l-2 2c-2 0-1 3 1 4l-1 1v2c1 1 2 2 1 3l1 1 1 1c0 2-4 5-5 5v3l1-1h1l1 1 1-2h1l1-2c-1-2 0-2 2-1 2 0 4 2 4 3l-2 2-2 1 2-1 2 1-1 1c-2 0-2 0 0 2 2 3 9 6 19 9 8 3 19 8 26 13l5 2c2-3-16-12-31-18l-12-4c-4-2-4-2-4-6 0-3-1-4-4-7l-4-4v-7c0-8-1-8-3-10l-3-2 2-1a143 143 0 01-22 4 352 352 0 01-126-1c-33-8-59-22-68-37l-3-3-1-1v-4c-2-5-1-13 1-20 4-8 15-18 27-25 32-16 61-22 105-22 55 0 108 16 129 39 2 2 6 7 7 11 3 6 3 8 3 16 0 12-2 16-14 27l-4 5c1 0 5-3 9-8l7-7v8l-1 25-2 17-2-1c-3 0-3 1-2 1l5 4c5 3 25 13 25 11l-10-6-11-5a1040 1040 0 012-60c3-19-3-35-19-47-9-7-28-16-43-20a309 309 0 00-98-11zM10 94l-1-2c-1-1-1-1 0 0l1 2z"/>
      </svg>
    </aside>
  </div>

  <!-- APP: navigation and content -->
  <main>
    <div class="loading-msg">Loading...</div>
    <div id="app"></div>
  </main>

  <!-- Loading critical logic -->
  <script>
    /**
     * A tagline
     * @typedef {Object} Tagline
     * @property {string} el - The DOM element containing the tagline
     * @property {string} children - The child elements of said DOM element
     * @property {number} txt - The tagline text
     */
     function Tagline(el) {
      this.el = el;
      this.children = [].slice.call(el.children);
      this.txt = el.textContent.trim();
    }

    // Name for the localStorage key used to back the detected locale up.
    /* @global */  
    window.hqcLocaleKey = 'locale'; 
    
    // Will contain the Vue app's instance once loaded later on.
    /* @global */ 
    window.hqcApp = {};

    /**
     * Minimal polyfill for native fetch. Available globally for the app loaded later.
     * @see {@link https://github.com/developit/unfetch}
     * @global
     */
    window.fetch||(window.fetch=function(e,n){return n=n||{},new Promise(function(t,s){var r=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(r.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var c in r.open(n.method||"get",e,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,n,t){o.push(n=n.toLowerCase()),u.push([n,t]),i[n]=i[n]?i[n]+","+t:t}),t(a())},r.onerror=s,r.withCredentials="include"==n.credentials,n.headers)r.setRequestHeader(c,n.headers[c]);r.send(n.body||null)})});

    /**
     * Global method to request the JSON locale file for a given language, caching for a week and
     * ironing out native fetch's kinks like not rejecting on status error.
     * @param {string} language - Language code for the locale to be requested.
     * @returns {Promise<Object|Error>} The fetched locale object with all its strings if successful
     * @global
     */ 
     window.hqcFetchLocale = function (language) {
      var error;
      var path;

      if (!language) {
        error = new Error('Language not provided while attempting to fetch locale.');
        return Promise.reject(error);
      }

      path = '<%= process.env.BASE_URL %>' + language + '.json';
      return fetch(path, {headers: {'Cache-Control': 'public, max-age=604800'}})
      .then(function (response) {

        // Successful request => parses the json response
        if (response.ok) {
          return response.json().then(function (data) {
            return data;
          });
          
        // Failed request => manually reject promise
        } else {
          error = new Error(response.statusText);
          error.response = response;
          return Promise.reject(error);
        }
      });
    };

    /**
     * Directly scrolls to the initial section of the website according to the current
     * route, preventing scrolling to happen twice later when the app loads.
     * The home section is the default one scrolled to if the route is invalid or empty.
     * @param {number} delay - Number of milliseconds to allow the browser to finish any
     * pending calculations before scrolling.
     * @param {boolean} [isHash = false] - True if HTML5 routing is not supported.
     */
    var scrollTimer = -1;
    var scrollToStage = function (delay, isHash) {
      clearTimeout(scrollTimer);
      scrollTimer = setTimeout(function () {
        var currRoute = '';
        var stageEl = null;

        // Extracts the first hop in the path as a potentially valid route.
        if (isHash) {
          currRoute = location.hash;
        } else {
          currRoute = location.pathname;
        }
        try {
          currRoute = currRoute.match(/^#?\/([^\/]*)/)[1];
        } catch (error) {
          currRoute = 'home';
        }

        // Checks validity by finding a similarly identified DOM element.
        stageEl = document.getElementById(currRoute);
        if (!document.body.contains(stageEl)) {
            stageEl = document.getElementById('home');
        }
        
        stageEl.scrollIntoView();
        document.body.classList.add('stage-ready');
      }, delay);
    };

    /**
     * Uses a class to visually signal that the app is loaded and ready. It also passes
     * the currently set locale into it.
     * @param {Object} loadedEl - DOM element to add the loaded class too.
     * @param {Object} locale - Object with all the locale-specific strings.
     */ 
    var handoverToApp = function (loadedEl, locale) {
      loadedEl.classList.add('app-loaded');
      
      if ('$store' in window.hqcApp) {
        window.hqcApp.$store.dispatch('initialise', locale);
      }
    };

    /**
     * Detection of localStorage, taking into account private browsing.
     * @returns {boolean} True if supported. 
     */
    var checkLocalStorage = function () {
      var supported = typeof window.localStorage !== 'undefined';

      if (supported) {
        try {
            localStorage.setItem('test_support', 'test_support');
            localStorage.removeItem('test_support');
        } catch (e) {
            supported = false;
        }
      }

      /* @global */ 
      window.hqcIsStorage = supported;
      return supported;
    };

    /**
     * Determines the current locale and fetches it unless it's been previously stored.
     * @param {boolean} isLocalStorage - True if LocalStorage available.
     * @returns {Promise<Object>} The detected/last saved locale object with all its strings.
     */
    var getLocale = function (isLocalStorage) {
      var language = '';
      var langSupported = <%= VUE_APP_LANGUAGES %>;
      var localeValue = localStorage.getItem(window.hqcLocaleKey);
      
      // Just grabs whatever previous copy of locale is available
      if (localeValue) {
        return Promise.resolve(JSON.parse(localeValue));

      // No previous copy => fetches remote locale matching browser's and remembers it if localStore available
      } else {
        
        //If browser's language undetectable or unsupported, it defaults to English.
        language = (navigator.userLanguage || (navigator.languages && navigator.languages.length && navigator.languages[0]) || navigator.language || navigator.browserLanguage || navigator.systemLanguage || 'en').split('-', 1)[0];
        if (langSupported.every(function (lang) { return lang.code !== language })) {
          language = 'en';
        }
        
        return window.hqcFetchLocale(language)
        .then(function (data) {
          if (isLocalStorage) {
            localStorage.setItem(window.hqcLocaleKey, JSON.stringify(data));   
          }
          return data;
        
        }).catch(function (error) {
          console.error(error);
          return null;
        });
      }
    };

    /**
     * Sets the value of various pre-app parameters for inminent display:
     * the page's declared language, the loading message and the text nodes for the tagline.
     * Factory approach to memoise tagline's DOM element for repeated use.
     * @param {Tagline} taglineObj - The {@link Tagline} whose text is to be localised.
     * @param {Object} loadingEl - DOM element for the loading message's container.
     * @param {Object} locale - Object with all text snippets localised.
     * @returns {Function} The factory.
     * @see charAnimationSetup
     */
    var criticalI8n = function (taglineObj, loadingEl) {
      return function (locale) {
        document.documentElement.lang = locale.language;
        loadingEl.textContent = locale.loading;
        taglineObj.txt = locale.tagline;

        // Makes sure the spacing between characters and the final character are correct.
        taglineObj.txt.split('').forEach(function (char, i) {
          taglineObj.children[i].textContent = char;
          taglineObj.children[i].dataset.char = char;
        });
      };
    };

    /**
     * Adds additional attributes to tagline's markup to enable random-character animation.
     * Sets for each character in the tagline a random sequence each time based on the original
     * tagline's text. It assumes correct localisation of the tagline and each of its characters is
     * wrapped in a span element.
     * @param {Object} taglineObj - The {@link Tagline} whose characters are to be animated.
     */
    var charAnimationSetup = function (taglineObj) {
      var taglineChars = taglineObj.txt.slice(0, 11).split(''); 
 
      taglineObj.children.forEach(function (el) {
        var randomTxt = taglineChars.sort(function () {return 0.5-Math.random()}).join('');

        el.style.setProperty('--count', Math.round(Math.random() * 3 + 1));
        randomTxt.split('').forEach(function (char, i) {
          el.dataset['char' + i] = char;
        });
      });
    };

    /* INITIALISATION */
    var isHash = <%= VUE_APP_IS_HASH === 'true' %>;
    var tagline = new Tagline(document.getElementsByClassName('tagline')[0]);
    window.hqcCriticalI8n = criticalI8n(tagline, document.getElementsByClassName('loading-msg')[0]);

    // Makes sure the right section is shown initially and on window change.
    scrollToStage(300, isHash);
    window.addEventListener('orientationchange', scrollToStage.bind(null, 400, isHash));
    window.addEventListener('resize', scrollToStage.bind(null, 400, isHash));

    // Locale and LocalStorage detection to display the correct language right from the loading screen.
    getLocale(checkLocalStorage()).then(function (locale) {
      var handoverFn = handoverToApp.bind(null, document.body, locale);
      
      // Brings loading screen's content in line with the detected locale.
      window.hqcCriticalI8n(locale);

      // Gets the animation going straight away while the app is loading.
      charAnimationSetup(tagline);

      // Transitions the single-page app in as soon as the DOM is loaded and passes data into it.
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', handoverFn);
      } else {
        handoverFn();
      }
    });
  </script>
</body>
</html>